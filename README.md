# Ubuntu 命令大全脚本使用说明

## 简介

这是一个专为 Ubuntu 22.04 设计的命令大全脚本，主要针对项目部署环境，提供了丰富的命令分类和功能。脚本支持通过数字键6快速调出，并且可以设置预设选项对应脚本，界面采用图形加文本方式，操作简单直观。

## 功能特点

- **丰富的命令分类**：系统信息、软件包管理、文件操作、网络工具、项目部署等
- **快捷键调出**：使用数字键6可以快速调出命令菜单
- **预设选项功能**：可以创建、编辑、运行自定义的预设命令
- **自定义命令**：支持添加、编辑、删除自定义命令
- **虚拟环境管理**：支持创建、进入、激活和退出各种类型的虚拟环境
- **脚本授权工具**：提供一键授权所有脚本sh文件的功能
- **图形化界面**：采用文本图形界面，操作简单直观
- **项目部署专用**：包含大量项目部署相关的命令和工具
- **网络一键安装**：支持通过网络一键安装部署

## 安装方法

### 方法一：本地安装

1. 将脚本文件复制到您的主目录下的 `ub_command_menu` 文件夹中：

```bash
mkdir -p ~/ub_command_menu
cp ub_commands.sh preset_manager.sh virtual_env_manager.sh script_auth_manager.sh ~/ub_command_menu/
chmod +x ~/ub_command_menu/ub_commands.sh ~/ub_command_menu/preset_manager.sh ~/ub_command_menu/virtual_env_manager.sh ~/ub_command_menu/script_auth_manager.sh
```

2. 首次运行脚本时，会自动设置快捷键：

```bash
~/ub_command_menu/ub_commands.sh
```

3. 重新加载 `.bashrc` 文件使快捷键生效：

```bash
source ~/.bashrc
```

### 方法二：使用安装脚本

1. 运行安装脚本：

```bash
./install.sh
```

2. 重新加载 `.bashrc` 文件使快捷键生效：

```bash
source ~/.bashrc
```

### 方法三：网络一键安装

使用以下命令可以直接从网络安装：

```bash
# 使用 curl
curl -fsSL http://your-server-address/ub/network_install.sh | bash

# 使用 wget
wget -O- http://your-server-address/ub/network_install.sh | bash
```

替换 `your-server-address` 为实际的服务器地址。

## 使用方法

### 调出命令菜单

有三种方式可以调出命令菜单：

1. **直接输入6**：在终端中输入 `6` 然后按回车键
2. **数字键6**：在终端中按下数字键6（F6功能键）
3. **Ctrl+F**：在终端中按下 Ctrl+F 组合键

### 主菜单选项

主菜单提供以下选项：

1. 系统信息与管理
2. 软件包管理
3. 文件与目录操作
4. 网络工具
5. 项目部署工具
6. 开发环境配置
7. Docker 相关命令
8. 数据库管理
9. 自定义命令
V. 虚拟环境管理
A. 脚本授权工具
P. 预设选项管理
0. 退出

### 使用虚拟环境管理

虚拟环境管理提供以下功能：

1. **创建Python虚拟环境**：创建Python的venv虚拟环境
2. **创建Node.js环境(nvm)**：使用nvm创建和管理Node.js环境
3. **创建Conda虚拟环境**：创建和管理Conda/Miniconda环境
4. **创建Docker容器环境**：创建和管理Docker容器
5. **列出虚拟环境**：查看系统中所有可用的虚拟环境
6. **激活虚拟环境**：获取激活不同类型虚拟环境的命令
7. **退出虚拟环境**：获取退出不同类型虚拟环境的命令

### 使用脚本授权工具

脚本授权工具提供以下功能：

1. **一键授权所有脚本**：批量为指定目录下的脚本文件添加执行权限
2. **授权单个脚本**：为单个脚本文件添加执行权限
3. **查看脚本权限**：查看指定目录下脚本文件的权限状态

### 使用预设选项

预设选项管理提供以下功能：

1. **创建新的预设选项**：设置预设名称、描述和要执行的命令
2. **查看所有预设选项**：列出所有已创建的预设选项
3. **运行预设选项**：选择并执行预设命令
4. **编辑预设选项**：修改现有预设的名称、描述或命令
5. **删除预设选项**：删除不再需要的预设

### 使用自定义命令

自定义命令功能提供：

1. **查看已保存的自定义命令**：列出所有已保存的自定义命令
2. **添加新的自定义命令**：添加命令名称和内容
3. **编辑自定义命令**：修改现有自定义命令
4. **删除自定义命令**：删除不再需要的自定义命令
5. **执行自定义命令**：选择并执行自定义命令

## 项目部署工具

项目部署工具菜单提供以下选项：

1. 克隆 Git 仓库
2. 部署 Node.js 应用
3. 部署 Python 应用
4. 部署 PHP 应用
5. 部署 Java 应用
6. 配置 Nginx 服务器
7. 配置 Apache 服务器
8. 设置 SSL 证书
9. 部署 Docker 容器

## 开发环境配置

开发环境配置菜单提供以下选项：

1. 安装 Node.js 环境
2. 安装 Python 环境
3. 安装 Java 环境
4. 安装 PHP 环境
5. 安装 Go 环境
6. 安装 Ruby 环境
7. 安装开发工具
8. 配置 SSH 密钥
9. 安装数据库

## 常见问题

### 快捷键不生效

如果快捷键不生效，请尝试以下方法：

1. 确保已经重新加载 `.bashrc` 文件：
   ```bash
   source ~/.bashrc
   ```

2. 检查 `.bashrc` 文件中是否包含以下内容：
   ```bash
   # UB 命令大全快捷键
   bind -x '"\C-f":"$HOME/ub_command_menu/ub_commands.sh"'
   
   # 数字键 6 快捷键
   bind -x '"\e[17~":"$HOME/ub_command_menu/ub_commands.sh"'
   ```

### 预设选项管理不可用

如果预设选项管理功能不可用，请检查：

1. 确保 `preset_manager.sh` 文件存在于 `~/ub_command_menu/` 目录中
2. 确保该文件具有执行权限：
   ```bash
   chmod +x ~/ub_command_menu/preset_manager.sh
   ```

## 自定义与扩展

### 添加新的命令类别

如果您想添加新的命令类别，可以编辑 `ub_commands.sh` 文件，按照现有菜单的格式添加新的菜单函数，并在主菜单中添加对应的选项。

### 修改快捷键

如果您想修改快捷键，可以编辑 `ub_commands.sh` 文件中的 `setup_shortcut` 函数，更改绑定的快捷键。

## 注意事项

- 某些命令需要 sudo 权限，请确保您有足够的权限
- 在执行危险操作（如删除文件、重启系统等）前，脚本会要求确认
- 建议在使用部署功能前，先熟悉相关命令的作用和参数

## 更新日志

### v1.0
- 初始版本发布
- 支持数字键6调出功能
- 添加预设选项管理
- 包含项目部署环境相关命令
- 图形加文本界面
